webpackJsonp([55],{1100:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(13),i=o.n(s),a=o(12),n=o.n(a),r=o(156),c=o.n(r),d=o(68),l=o.n(d),m=o(263),p=(o(160),o(33)),u=o(158),g=o(111),h=/^[0-9a-zA-Z]{6,16}$/;t.default={data:function(){return{codeColor:"#fff",codeBg:"#ff662e",codetit:"获取验证码",i:60,phone:"",code:"",timer:"",pwd:"",constType:1,userType:"",isMultipleFranchiserAccount:!1}},created:function(){},computed:l()({},o.i(p.b)("common",["userInfo"]),{isGetCode:function(){return 11===this.phone.length},isSubmit:function(){return 11===this.phone.length&&this.code&&h.test(this.pwd)},isClearTime:function(){if(!this.isGetCode){var e=["获取验证码","#fff","#ff662e"];return this.codetit=e[0],this.codeColor=e[1],this.codeBg=e[2],clearInterval(this.timer)}},isPwd:function(){return!(!h.test(this.pwd)||11!==this.phone.length||!this.code)}}),methods:l()({},o.i(p.c)("common",["SET_TOKEN","SET_USER_INFO"]),o.i(p.d)("home",["setMarkedMessage"]),{goBack:function(){this.SET_TOKEN(null),this.$router.go(-1)},selConstType:function(e){this.constType=e},clear:function(){this.phone="",this.confirmStyle=!1},showPhoneToast:function(){this.$toast("请输入手机号")},encrypt:function(){var e=this.pwd,t=o.i(u.a)("WeB"+e);return o.i(u.a)(t)},submit:function(e){var t=this;if(!h.test(this.pwd))return this.$store.state.popupMsg="请设置6-16位包含数字及字母密码组合",void this.$store.commit("showPopup");var s=new FormData;s.append("mobile",this.phone),s.append("phoneCode",this.code),s.append("password",this.encrypt()),1===e?s.append("comfirmFlag",1):s.get("comfirmFlag")&&s.delete("comfirmFlag"),3==this.userType&&s.append("enterpriseFlag",this.constType),o.i(m.g)(s).then(function(e){if(e){if(10010212===e.exceptionCode)return void t.$confirm({title:"提示",msg:"该手机号已绑定其他账号，再次绑定将会合并账号信息，是否确认绑定？"}).success(function(e){e.close(),t.submit(1)});if(10010210===e.exceptionCode)return void t.$toast(e.message);e.success?(t.$store.state.popupMsg=e.message,t.$store.commit("showPopup"),setTimeout(function(){t.toLogin()},1e3)):t.$toast(e.message)}})},toLogin:function(){var e=this;this.$store.state.personalHideHeader=!0;var t=this.phone,o=this.encrypt();localStorage.setItem("userName",t),localStorage.setItem("pwd",o);var s=new FormData;s.append("account",t),s.append("password",o),s.append("msgId",0),s.append("loginFlag",1),this.API.getFranchiserCompanyList(s).then(function(i){i&&(i.datalist.length&&i.datalist.length>1?(localStorage.setItem("companyList",c()(i.datalist)),e.$store.commit("showComComponents",!1),e.$router.push("/company")):e.API.login(s).then(function(s){if(s){if(!s.flag){if(e.$store.commit("showComComponents",!1),e.$store.commit("popupMsg",s.message),e.$store.commit("showPopup"),"您尚未开通移动版功能，请联系客服开通!"===s.message)return e.$store.state.isRenew=!1,localStorage.setItem("pauopenUserId",s.msgId),void e.$router.push("/cumstomer");if("未开通此平台权限,请联系客服."===s.message||"平台权限已到期,请续费开通!"===s.message){var i=s.msgId;return localStorage.setItem("pauopenUserId",i),e.$store.state.isRenew=!1,void e.$router.push("/cumstomer")}return}if("移动版已到期，请续费开通！"===s.message)return e.$store.state.isRenew=!0,void e.$router.push("/cumstomer");if(e.$store.state.errorCount>3)return e.$store.commit("showComComponents",!1),e.$store.commit("popupMsg","账号或密码错误超过3次，请修改密码！"),e.$store.commit("showPopup"),void setTimeout(function(){router.push({path:"/changepwd",query:{phone:t}})},2500);if(localStorage.setItem("token",s.obj.token),e.SET_TOKEN(s.obj.token),e.SET_USER_INFO(s.obj),localStorage.setItem("rememberPhone",t),localStorage.setItem("rememberPassword",window.btoa(e.pwd)),localStorage.setItem("userId",s.obj.id),sessionStorage.getItem("designHouseType")||sessionStorage.setItem("designHouseType","3"),e.$store.state.timeOut=!1,e.$store.state.errorCount=0,sessionStorage.setItem("provinceCode",44e4),sessionStorage.setItem("cityCode",440300),localStorage.removeItem("companyList"),!s.obj.menuTree)return e.$store.commit("showComComponents",!1),e.$store.commit("popupMsg","请先配置用户菜单！"),void e.$store.commit("showPopup");var a=c()(s.obj.menuTree);g.b.$emit("footerTabShow",a),localStorage.setItem("menu",a),e.API.integralShow({account:t,password:o}).then(function(e){e&&(localStorage.setItem("balanceAmount",s.obj.balanceIntegral),localStorage.setItem("consumAmount",s.obj.consumAmount))}),e.$store.commit("showComComponents",!0),e.$store.state.footerShow=!0,localStorage.setItem("isLogined",1),localStorage.setItem("mobile",s.obj.mobile),localStorage.setItem("firstLogin",1),e.$router.push("/");var n=new FormData;n.append("account",t),n.append("password",o),n.append("msgId",0),e.API.getFranchiserCompanyList(n).then(function(e){e&&e.datalist.length&&e.datalist.length>1&&localStorage.setItem("companyList",c()(e.datalist))}),e.API.space().then(function(t){t&&(e.$store.state.spaceList=t.datalist,sessionStorage.setItem("selType",e.$store.state.spaceList[0].name),sessionStorage.setItem("name",e.$store.state.spaceList[0].name),sessionStorage.setItem("houseType",e.$store.state.spaceList[0].value),e.$store.state.loginToDesign=!0,e.$store.state.loginToRecom=!0,sessionStorage.setItem("replaceList",""))}),e.API.getFavoritesList({msgId:localStorage.getItem("userId"),token:s.obj.token}).then(function(t){t&&(e.$store.state.favoritesList=t.datalist)})}}))})},getCode:function(){var e=this;return n()(i.a.mark(function t(){var s,a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=e.i,"获取验证码"==e.codetit&&/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(e.phone)?(a=e,e.timer=setInterval(function(){s--,a.codetit=s+"s",a.codeBg="#e8e8e8",a.codeColor="#ff662e",s<1&&(clearInterval(a.timer),a.codetit="获取验证码",a.codeBg="#ff662e",a.codeColor="#fff",a.i=60)},1e3),n={phoneNumber:e.phone,msgId:11},o.i(m.h)(n).then(function(t){t.status&&e.$toast("验证码发送成功")})):e.$toast("请输入正确的手机号");case 2:case"end":return t.stop()}},t,e)}))()}}),activated:function(){this.phone=this.code="",this.confirmStyle=!1}}},1200:function(e,t,o){t=e.exports=o(677)(!1),t.push([e.i,"header[data-v-e27923dc]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:1.173333rem;line-height:1.173333rem;position:fixed;top:0;left:0;z-index:2;width:100%;color:#333;background-color:#fff;border-bottom:1px solid #f8f8f8}header .icon-left[data-v-e27923dc]{position:absolute;left:0;top:0}header .title[data-v-e27923dc]{width:100%;text-align:center;font-size:.48rem}header .right[data-v-e27923dc]{position:absolute;right:.4rem;top:0;font-size:.48rem;color:#ff6614}.setAccount[data-v-e27923dc]{height:100%;background:#f5f5f5;box-sizing:border-box;padding-top:1.173333rem}.setAccount .line[data-v-e27923dc]{height:.266667rem}.setAccount .constType[data-v-e27923dc]{padding:0 .4rem;background:#fff}.setAccount .constType .type_item[data-v-e27923dc],.setAccount .constType .type_title[data-v-e27923dc]{height:1.173333rem;line-height:1.173333rem;font-size:.4rem;color:#333}.setAccount .constType .type_item .item_selicon[data-v-e27923dc]{width:.4rem;height:.4rem;vertical-align:middle}.setAccount .constType .type_item span[data-v-e27923dc]{vertical-align:middle}.setAccount .box[data-v-e27923dc]{position:relative;padding:0 .4rem;background:#fff}.setAccount .box .inpu[data-v-e27923dc]{width:8.666667rem;height:1.173333rem;font-size:.426667rem;font-family:PingFang-SC-Regular;color:#333;border:0;outline:none}.setAccount .box .icon[data-v-e27923dc]{width:.4rem;height:.4rem;border-radius:50%}.setAccount .box .get-code[data-v-e27923dc]{position:absolute;right:0;top:0;width:3.2rem;height:1.173333rem;line-height:1.173333rem;font-size:.426667rem;font-family:PingFang-SC-Regular;z-index:1;text-align:center}.setAccount .butbox[data-v-e27923dc]{text-align:center;margin-top:1.92rem}.setAccount .butbox .butfalse[data-v-e27923dc]{background-image:-webkit-linear-gradient(right,#999,#c8c8c8),-webkit-linear-gradient(#ff6419,#ff6419);background-image:linear-gradient(-90deg,#999,#c8c8c8),linear-gradient(#ff6419,#ff6419);background-blend-mode:normal,normal}.setAccount .butbox .butfalse[data-v-e27923dc],.setAccount .butbox .buttrue[data-v-e27923dc]{display:inline-block;width:8rem;height:1.173333rem;line-height:1.173333rem;border-radius:.586667rem;font-size:.48rem;color:#fff;letter-spacing:.133333rem}.setAccount .butbox .buttrue[data-v-e27923dc]{background-image:-webkit-linear-gradient(right,#ff6419,#ffa072),-webkit-linear-gradient(#ff6419,#ff6419);background-image:linear-gradient(-90deg,#ff6419,#ffa072),linear-gradient(#ff6419,#ff6419);background-blend-mode:normal,normal}",""])},1302:function(e,t,o){var s=o(1200);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=o(678).default;i("5cdaceaf",s,!0,{})},1514:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAjtJREFUSIm1189LFGEYwPFPkyRqeqk8WgRibaeg6JaV185lEFQQXcr+jP6A6Ad2iTqUdg3qJOkxCjxpUZfyaHUyFSu1w/uO7E6zzKvtfmFgd+fZ5zvvzDPPPLNrfHxcArtxDEdxCPvRHfet4Du+4APmsF6VsKNifzdGMIzeJjF9cTuMc/iJaUzFg9q2+CQuxKTbYS/O4zRe4F2qOMOosMr/oQ/XMYgJbBQlxe83WiCtZzjmbHAVxRdwvIXSnOO42Ex8AmfbIM05Ex0N4m7hurab0ejaEo9ofru0kt7o0hG3qmJ6i0l04apQqfV8xFOs4ZK6U1rCMF5nqKle7QSWhQ51N4py5nAPP4Tm8bwiVy9qubiKzrrPv3A/yufwEL/r9ncl5KtlGEgIvIY9JfKitBNXEvINZOhPCBzCzRJ5UTrm3+tfRn8m7dTAkRL5TqTQVexcVaxjs+T3TQmPwnoyrCbGlhVSTn3BpbCaYTEhcB4P/HtNywruU0K+xQwLCYGP8acgHVNecE8S8i1kwmqqKJMOKi+4tYR887l4uSJwFD3CrHVbY/UewS3sE7rS5YpcS5jvEFbzRhhXmnEqbs0Ywp0KYc4M/uS301Q8knazFF1bj8UV4UHQbiajq2ECeS+Mpe1iWt3EWexck5htg3Q25t6iKN7AI6EAWsVMzNkw3pbN1Rt4hs/CZLjTkWhJWGXyQJ/zTujPI8L02ZMoXBZuzx2/woh/fIlXwktbDQdxQONL2zd8FZrRvMZOV8pfKrV+bpQuru8AAAAASUVORK5CYII="},1612:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"setAccount"},[s("header",[s("i",{staticClass:"icon-left",on:{click:e.goBack}}),e._v(" "),s("div",{staticClass:"title"},[e._v("设置账号")])]),e._v(" "),e.userType/1==3&&e.isMultipleFranchiserAccount?s("div",{staticClass:"line"}):e._e(),e._v(" "),e.userType/1==3&&e.isMultipleFranchiserAccount?s("div",{staticClass:"constType"},[s("div",{staticClass:"type_title"},[e._v("选择修改类型：")]),e._v(" "),s("div",{staticClass:"type_item",on:{click:function(t){e.selConstType(1)}}},[s("img",{staticClass:"item_selicon",attrs:{src:o(1===e.constType?902:901),alt:""}}),e._v(" "),s("span",[e._v("仅修改当前企业")])]),e._v(" "),s("div",{staticClass:"type_item",on:{click:function(t){e.selConstType(2)}}},[s("img",{staticClass:"item_selicon",attrs:{src:o(2===e.constType?902:901),alt:""}}),e._v(" "),s("span",[e._v("修改关联的所有企业")])])]):e._e(),e._v(" "),s("div",{staticClass:"line"}),e._v(" "),s("div",{staticClass:"box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"inpu",attrs:{maxlength:"11",type:"text",placeholder:"请输入手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e._v(" "),s("img",{staticClass:"icon",attrs:{src:o(1514)},on:{click:e.clear}})]),e._v(" "),s("div",{staticClass:"line"}),e._v(" "),s("div",{staticClass:"box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],key:e.isClearTime,staticClass:"inpu",attrs:{maxlength:"10",type:"number",placeholder:"请输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),e.isGetCode?e._e():s("div",{staticClass:"get-code",style:{color:"#fff",background:"#e8e8e8"}},[e._v("获取验证码")]),e._v(" "),e.isGetCode?s("div",{staticClass:"get-code",style:{color:e.codeColor,background:e.codeBg},on:{click:e.getCode}},[e._v(e._s(e.codetit))]):e._e()]),e._v(" "),s("div",{staticClass:"line"}),e._v(" "),s("div",{staticClass:"box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],staticClass:"inpu",attrs:{maxlength:"11",type:"password",placeholder:"请输入6-16个字符密码"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"butbox"},[e.isPwd?e._e():s("span",{staticClass:"butfalse"},[e._v("确定")]),e._v(" "),e.isPwd?s("span",{staticClass:"buttrue",on:{click:function(t){e.submit(0)}}},[e._v("确定")]):e._e()])])},staticRenderFns:[]}},787:function(e,t,o){function s(e){o(1302)}var i=o(6)(o(1100),o(1612),s,"data-v-e27923dc",null);e.exports=i.exports},901:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAoNJREFUSIm9l0FP1EAUx3/bYSdpOGxdgV48mah3Ej+CcOeAfAU1An4SlygyHwE8cGf9CEbvhsSTBwa22JJsmkx3Wg9Ml7WJdlm6/JOe3rS/mb6+1/9rFUVBnbTWbWAdeAE8Bx4DgQvHwE/gK/AFOFFKZXXPbP0PrLUOgF3gtZRyWUqJlBIhBK1WC4CiKLDWYowprwGwD/SUUvGtwVrrLaDn+364uLiIEKLuEABYaxkOh6RpqoFdpdThVGCttQA+CCFedTod2u32VMCqsiwjSRKstQfAW6WU/SfYQT9LKTeCIBi/zlmV5zlJkmCMOQY2J+FeZW2vKSiA53kEQYCUcgPYm4yNT6y1fimEOOx2u3hedT93U1EURFGEtXZLKXU0Bruv90e3212ZNad1yrKMy8vLc+CZUiouj7br+/7coADtdhvf91e4Lk9aZ2dnEvi1tLS0PG3JzCprLYPB4AJ45AFrUsq5QwGEEEgpl4G1Ejx3aCnHWveA1XnmtirHWvWApwsLC/cGdqwnHtBpollMK8fqNNspbiEPSKb5Jzclx0o84HQ0Gt0b2LFOPeBbltUahsbkWN89oG+MuTewY/VLcGStrbnl7nIW6QI48cIwNMDH4XA4d7BjfFJKmbKcemmans8z11mWkabpBdAD50DCMIyB7SRJyPO8cWhRFFxdXQFsl85z3EDCMDyy1u4nSUKTdV0UBXEcMxqN9icdZ7Vz7RhjjuM4bgSe5zlxHJdmb2cy9hc4DEMLbBpjDqIo4i45d1YHY8wBFYcJ9YZ+z/f9lRkN/TmwM7Whr8AD4B3wRkr5cMoRJuJ6hHk/0whT2UA5tK1xM7Q9cOHf3AxtfaCvlKpthX8AMMZqkygweLoAAAAASUVORK5CYII="},902:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAqJJREFUSIm9101sVFUYxvFfp4CphDJ81RRHQkAgYEwMhsSw0A2UfUNLQ8KuYVCg5Ws/GRZs5KNWAevOAElBwp6yggQXGly4ICyAKAwIhcKUBI3FUhf33jJMmHtnSttnd895zvu/5557znnfurHOZlVoJjZhI9ZhGdJhXxG38Ssu4WI+k32RFLAuAZzGHnyFRdW8IR7jOHrymWyxkikVE6ADN5CrAQoLwzE3coW+jkqmN824Ht/iyxpgcTqJ3flMdrS0sXzG9Tg3iVBhrHO5Ql99HLgHrZMIjdSKbyqBt2DXFEAj7cwV+raUg9PonUJopN5coS9dCt6DpmkAN4UsdWOdzbNQUNuWeRs9QiaFlkmDzk6zt5/M6jjXIrRE4LfXu43sO8uaz9l6KMm9KYW1iUHrZ8b3NzQGM13yMQ9v88OOpIhrU1gZa/noCw5epmlpBegcus+w9BMG/+BIG8WHSeAVKcyNtWzYHkD3n2fhktf73plN12mWf8rjOxzZzNO/kqAwN+6SCPT9dm7+wvzFHPiJ+e8H7bMa6DrFh+t4co/DbTy5Xw0UwT4ejnX8+5zebdy6xoIPOHCe95ax+0dWfhbM8HAbQ3erhmK4bqyz+SrWJ1obGtnXH6zly/9IzaD4gK9bg7WtTT+ncK0q6z/PONbBn78H0OHB4EeqHQq/pTBQtf3vEH79CkfbeXBrIlAYiI7M+1gw0Sg1avzIHMF30wSFE/lMdiTaTj0YnAboo5A1fi0W0TUN4K4o8yw9QM4K0tKp0vF8JtsfPZSfXN24MAXQC2HscZWDR9EuSEknSyfRXp7ezniDcVRQOVwRZIYTTYkG0V36eUsVd0n0YxUOYqgG4FA4ZlUlKMm1U6SoaGvxqmibF/Y99apoG8BAPpMdSQr4P5pEqQqWxZVhAAAAAElFTkSuQmCC"}});