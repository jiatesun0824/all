webpackJsonp([96],{1030:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(33),s=a(111);t.default={data:function(){return{resultScroll:"",resultFlag:!1,livingName:"",searchResult:[],totalCount:0,data:[],pullup:!0,beforeScroll:!0,page:0,loadEnd:"",selIndex:-1,resultIndex:-1,initload:!0}},created:function(){var e=this;this.$store.state.headerTxt="户型",s.b.$on("hideSearchResult",function(){e.livingName="",e.resultFlag=!1})},activated:function(){this.$refs.areaEl.scrollTo(0,0)},methods:{hideKeyboard:function(){this.$refs.inputText.blur()},toSetHouse:function(){this.$router.push("/sethouse"),this.$store.state.comComponentsShow=!1,this.$store.state.contentFlag=!1},activePop:function(e){this.selIndex=e},initScroll:function(){this.data=[],this.page=0,this.loadEnd="",this.loadData()},openProvince:function(){this.$store.commit("showComComponents",!1),this.$store.state.contentFlag=!0,this.$store.state.selareaFlag=!0},openCity:function(){this.$store.commit("showComComponents",!1),this.$store.state.contentFlag=!1,this.$store.state.selareaFlag=!0},search:function(){if(""==this.livingName)return this.$store.state.popupMsg="请输入小区名!",void this.$store.commit("showPopup");this.initload&&(this.initScroll(),this.initload=!1),this.$store.state.loadingFlag=!0,this.resultFlag=!0,this.resultIndex=-1,this.$store.state.searchPath="area"},goHouseType:function(e,t){this.resultIndex=e,t._constructed&&(this.$store.state.search.houseTxt=this.data[e].livingName,sessionStorage.setItem("searchHouseTxt",this.$store.state.search.houseTxt),sessionStorage.setItem("livingId",this.data[e].livingId),this.$store.state.comComponentsShow=!1,this.$store.state.search.bigImageShow=!1,this.$store.state.initLoad=!0,this.$router.push("/typechange"))},loadData:function(){var e=this;if("暂无数据"==this.loadEnd||"没有更多数据"==this.loadEnd)return void(this.initload=!0);var t=localStorage.getItem("userId"),a=0+10*this.page,r=localStorage.getItem("token");this.API.houseType({provinceCode:sessionStorage.getItem("provinceCode"),cityCode:sessionStorage.getItem("cityCode"),livingName:this.livingName,msgId:t,limit:10,start:a,token:r}).then(function(t){if(t){e.totalCount=t.totalCount,e.page++;var a=t.datalist;if(0==a.length)return e.loadfailFlag=!0,void(e.initload=!0);a.length<10||0==a.length?e.loadEnd="没有更多数据":e.loadEnd="加载更多...",e.data=e.data.concat(a),e.data.length-t.totalCount==0&&(e.loadEnd="没有更多数据"),e.initload=!0}})}},computed:a.i(r.e)({comComponentsShow:function(e){return e.comComponentsShow},comeFromPlan:function(e){return e.comeFromPlan},loadingFlag:function(e){return e.loadingFlag},selareaFlag:function(e){return e.selareaFlag},provinceName:function(e){return e.provinceName},cityName:function(e){return e.cityName}})}},1181:function(e,t,a){t=e.exports=a(677)(!1),t.push([e.i,'.area .wrapper[data-v-8371039a]{position:absolute;width:100%;top:1.306667rem;bottom:1.306667rem;overflow:hidden}.area .wrapper .area-outer-sphere .result-wrapper .result-header[data-v-8371039a]{font-size:.32rem;color:#8e8e8e;padding:0 0 .4rem .4rem}.area .wrapper .area-outer-sphere .result-wrapper .result-box[data-v-8371039a]{min-height:8.666667rem;position:relative}.area .wrapper .area-outer-sphere .result-wrapper .result-box .result-content[data-v-8371039a]{background:#fff}.area .wrapper .area-outer-sphere .result-wrapper .result-box .result-content .result-part[data-v-8371039a]{padding-left:.4rem;height:1.2rem;color:#494949;font-size:.4rem;line-height:1.2rem}.area .wrapper .area-outer-sphere .result-wrapper .result-box .result-content .result-part .left-text[data-v-8371039a]{display:block;width:60%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;float:left}.area .wrapper .area-outer-sphere .result-wrapper .result-box .result-content .result-part .right-text[data-v-8371039a]{font-size:.32rem;font-weight:400;color:#8e8e8e;margin-right:.4rem;display:block;float:right}.area .wrapper .area-outer-sphere .result-wrapper .result-box .result-content .result-part .bottom-line[data-v-8371039a]{position:relative}.area .wrapper .area-outer-sphere .result-wrapper .result-box .result-content .result-part .bottom-line[data-v-8371039a]:after{display:block;position:absolute;left:0;bottom:0;width:100%;border-top:.013333rem solid #eee;content:""}.area .search-btn[data-v-8371039a]{display:block;width:9.2rem;height:1.066667rem;line-height:1.066667rem;text-align:center;font-size:.48rem;color:#fff;background-color:#ff6419;margin:.56rem auto;border-radius:.666667rem}.area .set-house-item[data-v-8371039a]{margin-top:.533333rem;margin-right:.4rem}.area .set-house-item .tip[data-v-8371039a]{display:block;font-size:.32rem;color:#999;float:right}.area .set-house-item .set-house[data-v-8371039a]{display:inline-block;padding:.133333rem;font-size:.32rem;color:#ff6419}.area .area-wrapper .area-line[data-v-8371039a]{margin-left:.4rem;position:relative}.area .area-wrapper .area-line[data-v-8371039a]:after{display:block;position:absolute;left:0;bottom:0;width:100%;border-top:1px solid #eee;content:""}.area .area-wrapper .area-item[data-v-8371039a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:.4rem;height:1.173333rem;line-height:1.173333rem;padding:0 .4rem;color:#494949;background:#fff}.area .area-wrapper .area-item .hint[data-v-8371039a]{color:#747474}.area .area-wrapper .area-item .colon[data-v-8371039a]{margin:0 .133333rem}.area .area-wrapper .area-item .text[data-v-8371039a]{color:#333;font-size:.4rem}.area .area-wrapper .area-item .text .province[data-v-8371039a]{margin:0 .666667rem}.area .area-wrapper .area-item .text .city[data-v-8371039a]{margin-left:.666667rem}.area .area-wrapper .area-item .inputText[data-v-8371039a]{font-size:.4rem;margin-left:.666667rem}.area .activeChange[data-v-8371039a]{background:#f6f6f6}',""])},1283:function(e,t,a){var r=a(1181);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a(678).default;s("588fbaf8",r,!0,{})},1594:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"area"},[a("scroll",{ref:"areaEl",staticClass:"wrapper",attrs:{data:e.data,pullup:e.pullup,beforeScroll:e.beforeScroll},on:{pullup:e.loadData}},[a("div",{staticClass:"area-outer-sphere"},[a("div",{staticClass:"area-wrapper"},[a("div",{staticClass:"area-item"},[a("span",{staticClass:"hint"},[e._v("所在地区")]),e._v(" "),a("span",{staticClass:"colon"},[e._v(":")]),e._v(" "),a("span",{staticClass:"text"},[a("span",{staticClass:"province",on:{click:e.openProvince}},[e._v(e._s(e.provinceName))]),a("span",[e._v("丨")]),a("span",{staticClass:"city",on:{click:e.openCity}},[e._v(e._s(e.cityName))])])]),e._v(" "),a("div",{staticClass:"area-line"}),e._v(" "),a("div",{staticClass:"area-item"},[a("span",{staticClass:"hint"},[e._v("所在小区")]),e._v(" "),a("span",{staticClass:"colon"},[e._v(":")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.livingName,expression:"livingName"}],ref:"inputText",staticClass:"inputText",attrs:{type:"text",maxlength:"30"},domProps:{value:e.livingName},on:{input:function(t){t.target.composing||(e.livingName=t.target.value)}}})])]),e._v(" "),a("a",{staticClass:"search-btn",attrs:{href:"javascript:;"},on:{click:e.search,touchend:e.hideKeyboard}},[e._v("搜索")]),e._v(" "),a("div",{staticClass:"set-house-item clearfix"},[a("span",{staticClass:"tip"},[e._v("没有找到户型?"),a("i",{staticClass:"set-house",on:{click:e.toSetHouse}},[e._v("上传户型")])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.resultFlag,expression:"resultFlag"}],staticClass:"result-wrapper"},[a("div",{staticClass:"result-header"},[e._v("共搜索到"+e._s(e.totalCount)+"个小区")]),e._v(" "),a("div",{staticClass:"result-box"},[a("ul",{staticClass:"result-content"},[e._l(e.data,function(t,r){return a("li",{key:r,staticClass:"result-part",class:e.resultIndex==r?"activeChange":"",on:{click:function(t){e.goHouseType(r,t)}}},[a("span",{staticClass:"left-text"},[e._v(e._s(t.livingName))]),e._v(" "),a("span",{staticClass:"right-text"},[e._v(e._s(t.houseCount)+"个户型")]),e._v(" "),a("div",{staticClass:"bottom-line"})])}),e._v(" "),a("div",{staticClass:"loading-wrapper"},[e._v(e._s(e.loadEnd))])],2),e._v(" "),e.loadingFlag?a("loading"):e._e()],1)])])]),e._v(" "),a("transition",{attrs:{name:"fade"}},[e.selareaFlag?a("selarea"):e._e()],1)],1)},staticRenderFns:[]}},717:function(e,t,a){function r(e){a(1283)}var s=a(6)(a(1030),a(1594),r,"data-v-8371039a",null);e.exports=s.exports}});