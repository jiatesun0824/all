webpackJsonp([61],{1078:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(13),r=a.n(i),s=a(12),n=a.n(s),o=a(68),d=a.n(o),l=a(780),f=a(33),c=a(260);t.default={mixins:[l.a],data:function(){return{silder:[],type:1,friendid:0,inpuValue:"",friendName:"",Message:{messageContent:"",friendId:0,messageType:1,curPage:1,pageSize:10}}},computed:d()({},a.i(f.b)("common",["userInfo"]),a.i(f.b)("user",{friendId:"friendId",messageInfoList:"messageInfoList",userPrivateMessag:"userPrivateMessag"})),activated:function(){this.friendid=this.friendId.friendId,this.friendName=this.friendId.friendName,this.type=this.friendId.type;var e=this;this.setFriendId({friendId:this.friendid,friendName:this.friendName,type:this.type}),a.i(c.b)({friendId:this.friendid,friendName:this.friendName,type:this.type}).then(function(t){t.status?(e.silder=[],e.silder=t.obj.reverse()):e.silder=[]})},methods:d()({},a.i(f.e)("user",["queryPrivateMessageInfoList","setFriendId","setMessage","queryAdduserPrivateMessage"]),{send:function(){var e=function(){var e=n()(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.queryAdduserPrivateMessage();case 2:a=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();if(this.inpuValue){this.Message.messageContent=this.inpuValue,this.Message.friendId=this.friendid,this.Message.type=this.type,this.setMessage(this.Message);var t=this;e(t).then(function(){if(t.userPrivateMessag.status)return t.inpuValue="",t.queryPrivateMessageInfoList()}).then(function(){t.silder=t.messageInfoList.obj.reverse()})}}})}},1186:function(e,t,a){t=e.exports=a(674)(!1),t.push([e.i,"header[data-v-e3a0aae0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:1.173333rem;line-height:1.173333rem;position:fixed;top:0;left:0;z-index:2;width:100%;color:#333;background-color:#fff;border-bottom:1px solid #f8f8f8}header .icon-left[data-v-e3a0aae0]{position:absolute;left:0;top:0}header .title[data-v-e3a0aae0]{width:100%;text-align:center;font-size:.48rem}header .right[data-v-e3a0aae0]{position:absolute;right:.4rem;top:0;font-size:.48rem;color:#ff6614}",""])},1187:function(e,t,a){t=e.exports=a(674)(!1),t.push([e.i,".chat[data-v-e3a0aae0]{width:100%;height:100%;background:#f5f5f5;position:relative;box-sizing:border-box}.chat .advbox[data-v-e3a0aae0]{position:fixed;left:0;top:1.173333rem;z-index:5;padding:.4rem .4rem 0;background:#f5f5f5}.chat .advbox .adv[data-v-e3a0aae0]{width:9.2rem;height:1.92rem;background:#fff;padding:.266667rem .4rem;box-sizing:border-box}.chat .advbox .adv .title[data-v-e3a0aae0]{font-size:.4rem;color:#333}.chat .advbox .adv .tit[data-v-e3a0aae0]{font-size:.32rem;color:#999}.chat .advbox .adv .tit .mr73[data-v-e3a0aae0]{margin-right:.973333rem}.chat .inpu-box[data-v-e3a0aae0]{position:fixed;bottom:0;left:0;padding:.24rem;background:#fff;z-index:5}.chat .inpu-box .inpu[data-v-e3a0aae0]{width:8.4rem;height:.8rem;background:#fafafa;outline:none;vertical-align:top}.chat .inpu-box .send[data-v-e3a0aae0]{color:#ff6614;font-size:.32rem;display:inline-block;height:.8rem;line-height:.8rem;vertical-align:top;margin-left:.266667rem}.chat .wrapper .box[data-v-e3a0aae0]{padding:1.866667rem .4rem 2rem}.chat .wrapper .box .silder .time[data-v-e3a0aae0]{font-size:.32rem;color:#999;text-align:center;margin-bottom:.4rem;margin-top:.533333rem}.chat .wrapper .box .silder .messbox[data-v-e3a0aae0]{overflow:hidden;margin-bottom:.4rem}.chat .wrapper .box .silder .messbox .con[data-v-e3a0aae0]{overflow:hidden}.chat .wrapper .box .silder .messbox .con .mess[data-v-e3a0aae0]{display:inline-block;max-width:6.826667rem;min-height:1.066667rem;padding:.333333rem;border-radius:.133333rem;font-size:.373333rem;box-sizing:border-box}.chat .wrapper .box .silder .messbox .con .port[data-v-e3a0aae0]{width:.933333rem;height:.933333rem;border-radius:50%}",""])},1284:function(e,t,a){var i=a(1186);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a(675).default;r("3e65d0cf",i,!0,{})},1285:function(e,t,a){var i=a(1187);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a(675).default;r("67ba2610",i,!0,{})},1577:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat"},[a("header",[a("i",{staticClass:"icon-left",on:{click:function(t){e.$router.back()}}}),e._v(" "),a("div",{staticClass:"title"},[e._v(e._s(e.friendName))])]),e._v(" "),a("div",{staticClass:"inpu-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inpuValue,expression:"inpuValue"}],staticClass:"inpu",attrs:{type:"text"},domProps:{value:e.inpuValue},on:{input:function(t){t.target.composing||(e.inpuValue=t.target.value)}}}),e._v(" "),a("span",{staticClass:"send",on:{click:e.send}},[e._v("发送")])]),e._v(" "),a("scroll",{ref:"wrapperScroll",staticClass:"wrapper",attrs:{listenScroll:e.listenScroll,probeType:e.probeType,pullup:!0,beforeScroll:!0,scrollX:!0,refreshScroll:!0,data:e.silder}},[a("div",{staticClass:"box"},e._l(e.silder,function(t,i){return a("div",{key:i,staticClass:"silder"},[a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.time,expression:"item.time!=''"}],staticClass:"time"},[e._v("\n          "+e._s(t.sendTime)+"\n        ")]),e._v(" "),a("div",{staticClass:"messbox"},[a("div",{staticClass:"con"},[a("img",{staticClass:"port",style:t.senderId!=t.userId?"float:left;":"float:right;",attrs:{src:t.senderId!=t.userId?""+e.userInfo.resourcesUrl+t.friendPicPath:""+e.userInfo.resourcesUrl+t.senderPicPath}}),e._v(" "),a("div",{staticClass:"mess",style:t.senderId!=t.userId?"float:left;background:#fff;color:#333;margin-left:10px;":"float:right;background:red;color:#fff;margin-right:10px;"},[e._v(e._s(t.messageContent))])])])])}))])],1)},staticRenderFns:[]}},768:function(e,t,a){function i(e){a(1284),a(1285)}var r=a(6)(a(1078),a(1577),i,"data-v-e3a0aae0",null);e.exports=r.exports},780:function(e,t,a){"use strict";var i={data:function(){return{file:""}},methods:{fileChange:function(e){this.file=e.target.files[0],e.target.files[0].size&&(this.fileList(e.target),e.target.value="")},fileList:function(e){for(var t=e.files,a=0;a<t.length;a++)""!=t[a].type&&this.fileAdd(t[a])},fileAdd:function(e){var t=this;if(void 0!==this.limit&&this.limit--,!(void 0!==this.limit&&this.limit<0))if(this.size=this.size+e.size,-1==e.type.indexOf("image"))this.$toast("请选择图片文件");else{var a=new FileReader,i=new Image;a.readAsDataURL(e),a.onload=function(){e.src=this.result,i.onload=function(){var a=i.width,r=i.height;e.width=a,e.height=r,t.callback(e)},i.src=e.src}}},goShop:function(){this.$router.push("/home")},timeFn:function(e){var t=new Date(e.replace(/-/g,"/")),a=new Date,i=a.getTime()-t.getTime(),r=Math.floor(i/864e5),s=i%864e5,n=Math.floor(s/36e5),o=s%36e5,d=Math.floor(o/6e4),l=o%6e4;return[r,n,d,Math.round(l/1e3)]}},created:function(){this.probeType=3,this.listenScroll=!0}};t.a=i}});